<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React | TypeScriptæ‰‹å†Œ</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/Typescript-manual/favicon.png">
    <meta name="description" content="TypeScriptæ˜¯JavaScriptç±»å‹çš„è¶…é›†ï¼Œå®ƒå¯ä»¥ç¼–è¯‘æˆçº¯JavaScriptã€‚
  TypeScriptå¯ä»¥åœ¨ä»»ä½•æµè§ˆå™¨ã€ä»»ä½•è®¡ç®—æœºå’Œä»»ä½•æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œï¼Œå¹¶ä¸”æ˜¯å¼€æºçš„ã€‚">
    <meta name="keywords" content="typescript,docs,æ‰‹å†Œ,æ–‡æ¡£">
    <meta name="author" content="boses">
    <meta name="google" content="notranslate">
    
    <link rel="preload" href="/Typescript-manual/assets/css/0.styles.85f9f99a.css" as="style"><link rel="preload" href="/Typescript-manual/assets/js/app.b3320f9f.js" as="script"><link rel="preload" href="/Typescript-manual/assets/js/2.f8451502.js" as="script"><link rel="preload" href="/Typescript-manual/assets/js/132.0a19faa6.js" as="script"><link rel="prefetch" href="/Typescript-manual/assets/js/10.47836e41.js"><link rel="prefetch" href="/Typescript-manual/assets/js/100.c35983ec.js"><link rel="prefetch" href="/Typescript-manual/assets/js/101.f532b30f.js"><link rel="prefetch" href="/Typescript-manual/assets/js/102.d6ac1eb7.js"><link rel="prefetch" href="/Typescript-manual/assets/js/103.0ad3e015.js"><link rel="prefetch" href="/Typescript-manual/assets/js/104.59c229b8.js"><link rel="prefetch" href="/Typescript-manual/assets/js/105.efe8d7f9.js"><link rel="prefetch" href="/Typescript-manual/assets/js/106.ded713ee.js"><link rel="prefetch" href="/Typescript-manual/assets/js/107.f398eca8.js"><link rel="prefetch" href="/Typescript-manual/assets/js/108.2b40fd6e.js"><link rel="prefetch" href="/Typescript-manual/assets/js/109.8415fab5.js"><link rel="prefetch" href="/Typescript-manual/assets/js/11.b26d0fb7.js"><link rel="prefetch" href="/Typescript-manual/assets/js/110.d2d2b56b.js"><link rel="prefetch" href="/Typescript-manual/assets/js/111.cd4ee339.js"><link rel="prefetch" href="/Typescript-manual/assets/js/112.c2169e45.js"><link rel="prefetch" href="/Typescript-manual/assets/js/113.1ef1c6fa.js"><link rel="prefetch" href="/Typescript-manual/assets/js/114.81afcdb9.js"><link rel="prefetch" href="/Typescript-manual/assets/js/115.7e4e0688.js"><link rel="prefetch" href="/Typescript-manual/assets/js/116.50456dfa.js"><link rel="prefetch" href="/Typescript-manual/assets/js/117.90fc52f1.js"><link rel="prefetch" href="/Typescript-manual/assets/js/118.38953ad3.js"><link rel="prefetch" href="/Typescript-manual/assets/js/119.76ebb998.js"><link rel="prefetch" href="/Typescript-manual/assets/js/12.d62082d0.js"><link rel="prefetch" href="/Typescript-manual/assets/js/120.2d2188f1.js"><link rel="prefetch" href="/Typescript-manual/assets/js/121.44cf8ca7.js"><link rel="prefetch" href="/Typescript-manual/assets/js/122.ef094c21.js"><link rel="prefetch" href="/Typescript-manual/assets/js/123.0449226e.js"><link rel="prefetch" href="/Typescript-manual/assets/js/124.c2ba1a48.js"><link rel="prefetch" href="/Typescript-manual/assets/js/125.f83618f5.js"><link rel="prefetch" href="/Typescript-manual/assets/js/126.76533768.js"><link rel="prefetch" href="/Typescript-manual/assets/js/127.0f3c3491.js"><link rel="prefetch" href="/Typescript-manual/assets/js/128.b64ff4eb.js"><link rel="prefetch" href="/Typescript-manual/assets/js/129.1d31ac5a.js"><link rel="prefetch" href="/Typescript-manual/assets/js/13.63f8e5b0.js"><link rel="prefetch" href="/Typescript-manual/assets/js/130.177d76fa.js"><link rel="prefetch" href="/Typescript-manual/assets/js/131.bff34b58.js"><link rel="prefetch" href="/Typescript-manual/assets/js/133.6bb2baf4.js"><link rel="prefetch" href="/Typescript-manual/assets/js/134.8f019fb6.js"><link rel="prefetch" href="/Typescript-manual/assets/js/135.677aea30.js"><link rel="prefetch" href="/Typescript-manual/assets/js/136.ecea0b0a.js"><link rel="prefetch" href="/Typescript-manual/assets/js/137.d7a02a42.js"><link rel="prefetch" href="/Typescript-manual/assets/js/138.10d7ef08.js"><link rel="prefetch" href="/Typescript-manual/assets/js/139.374359c7.js"><link rel="prefetch" href="/Typescript-manual/assets/js/14.85093ef1.js"><link rel="prefetch" href="/Typescript-manual/assets/js/140.b5612ed3.js"><link rel="prefetch" href="/Typescript-manual/assets/js/141.9e79cbdd.js"><link rel="prefetch" href="/Typescript-manual/assets/js/142.64216f54.js"><link rel="prefetch" href="/Typescript-manual/assets/js/15.c41b5e33.js"><link rel="prefetch" href="/Typescript-manual/assets/js/16.9e280215.js"><link rel="prefetch" href="/Typescript-manual/assets/js/17.d1aeb9d4.js"><link rel="prefetch" href="/Typescript-manual/assets/js/18.b20ddac8.js"><link rel="prefetch" href="/Typescript-manual/assets/js/19.d6b745e5.js"><link rel="prefetch" href="/Typescript-manual/assets/js/20.8ceea0ce.js"><link rel="prefetch" href="/Typescript-manual/assets/js/21.4b0db1d2.js"><link rel="prefetch" href="/Typescript-manual/assets/js/22.70d4a479.js"><link rel="prefetch" href="/Typescript-manual/assets/js/23.75c749b4.js"><link rel="prefetch" href="/Typescript-manual/assets/js/24.b967bc1c.js"><link rel="prefetch" href="/Typescript-manual/assets/js/25.e5fb2529.js"><link rel="prefetch" href="/Typescript-manual/assets/js/26.9b59b598.js"><link rel="prefetch" href="/Typescript-manual/assets/js/27.1a2248a3.js"><link rel="prefetch" href="/Typescript-manual/assets/js/28.e066ceb8.js"><link rel="prefetch" href="/Typescript-manual/assets/js/29.30b14c35.js"><link rel="prefetch" href="/Typescript-manual/assets/js/3.51d08f99.js"><link rel="prefetch" href="/Typescript-manual/assets/js/30.740cfcc3.js"><link rel="prefetch" href="/Typescript-manual/assets/js/31.028b2381.js"><link rel="prefetch" href="/Typescript-manual/assets/js/32.a127d12a.js"><link rel="prefetch" href="/Typescript-manual/assets/js/33.052c8615.js"><link rel="prefetch" href="/Typescript-manual/assets/js/34.1d44d77d.js"><link rel="prefetch" href="/Typescript-manual/assets/js/35.05aeb178.js"><link rel="prefetch" href="/Typescript-manual/assets/js/36.2dc966d7.js"><link rel="prefetch" href="/Typescript-manual/assets/js/37.e07fefd0.js"><link rel="prefetch" href="/Typescript-manual/assets/js/38.57b1e81e.js"><link rel="prefetch" href="/Typescript-manual/assets/js/39.6c50847c.js"><link rel="prefetch" href="/Typescript-manual/assets/js/4.8a34b2d5.js"><link rel="prefetch" href="/Typescript-manual/assets/js/40.0330cff0.js"><link rel="prefetch" href="/Typescript-manual/assets/js/41.6100292d.js"><link rel="prefetch" href="/Typescript-manual/assets/js/42.f4f5d6a4.js"><link rel="prefetch" href="/Typescript-manual/assets/js/43.e2f72708.js"><link rel="prefetch" href="/Typescript-manual/assets/js/44.118f243e.js"><link rel="prefetch" href="/Typescript-manual/assets/js/45.3ba495e3.js"><link rel="prefetch" href="/Typescript-manual/assets/js/46.e147aa7b.js"><link rel="prefetch" href="/Typescript-manual/assets/js/47.2d8208c4.js"><link rel="prefetch" href="/Typescript-manual/assets/js/48.936d3610.js"><link rel="prefetch" href="/Typescript-manual/assets/js/49.0f82f36c.js"><link rel="prefetch" href="/Typescript-manual/assets/js/5.58162205.js"><link rel="prefetch" href="/Typescript-manual/assets/js/50.a0bd1f63.js"><link rel="prefetch" href="/Typescript-manual/assets/js/51.c4560523.js"><link rel="prefetch" href="/Typescript-manual/assets/js/52.3a001982.js"><link rel="prefetch" href="/Typescript-manual/assets/js/53.360009e1.js"><link rel="prefetch" href="/Typescript-manual/assets/js/54.1773c252.js"><link rel="prefetch" href="/Typescript-manual/assets/js/55.ddb68543.js"><link rel="prefetch" href="/Typescript-manual/assets/js/56.b529d0c3.js"><link rel="prefetch" href="/Typescript-manual/assets/js/57.ea6d2d1b.js"><link rel="prefetch" href="/Typescript-manual/assets/js/58.3bf24bc1.js"><link rel="prefetch" href="/Typescript-manual/assets/js/59.41cf99ac.js"><link rel="prefetch" href="/Typescript-manual/assets/js/6.d36de581.js"><link rel="prefetch" href="/Typescript-manual/assets/js/60.85568cff.js"><link rel="prefetch" href="/Typescript-manual/assets/js/61.ec054702.js"><link rel="prefetch" href="/Typescript-manual/assets/js/62.eb9ffecf.js"><link rel="prefetch" href="/Typescript-manual/assets/js/63.83e44335.js"><link rel="prefetch" href="/Typescript-manual/assets/js/64.05418b3c.js"><link rel="prefetch" href="/Typescript-manual/assets/js/65.ff13ff09.js"><link rel="prefetch" href="/Typescript-manual/assets/js/66.53698de8.js"><link rel="prefetch" href="/Typescript-manual/assets/js/67.53d8d7cd.js"><link rel="prefetch" href="/Typescript-manual/assets/js/68.e4d9f0a2.js"><link rel="prefetch" href="/Typescript-manual/assets/js/69.04173f9d.js"><link rel="prefetch" href="/Typescript-manual/assets/js/7.272fb63a.js"><link rel="prefetch" href="/Typescript-manual/assets/js/70.1ac7a40b.js"><link rel="prefetch" href="/Typescript-manual/assets/js/71.091d6cf9.js"><link rel="prefetch" href="/Typescript-manual/assets/js/72.5cef9ff7.js"><link rel="prefetch" href="/Typescript-manual/assets/js/73.cb90b668.js"><link rel="prefetch" href="/Typescript-manual/assets/js/74.b0deccbd.js"><link rel="prefetch" href="/Typescript-manual/assets/js/75.5f880ca6.js"><link rel="prefetch" href="/Typescript-manual/assets/js/76.72d5ec81.js"><link rel="prefetch" href="/Typescript-manual/assets/js/77.b01b223f.js"><link rel="prefetch" href="/Typescript-manual/assets/js/78.98122b71.js"><link rel="prefetch" href="/Typescript-manual/assets/js/79.240b85fd.js"><link rel="prefetch" href="/Typescript-manual/assets/js/8.3e4b3077.js"><link rel="prefetch" href="/Typescript-manual/assets/js/80.f3fed8e1.js"><link rel="prefetch" href="/Typescript-manual/assets/js/81.d68ea07c.js"><link rel="prefetch" href="/Typescript-manual/assets/js/82.31f03666.js"><link rel="prefetch" href="/Typescript-manual/assets/js/83.9f72e8cc.js"><link rel="prefetch" href="/Typescript-manual/assets/js/84.288bb786.js"><link rel="prefetch" href="/Typescript-manual/assets/js/85.a638fd91.js"><link rel="prefetch" href="/Typescript-manual/assets/js/86.6f24eb07.js"><link rel="prefetch" href="/Typescript-manual/assets/js/87.aa2c9fd4.js"><link rel="prefetch" href="/Typescript-manual/assets/js/88.5236e10a.js"><link rel="prefetch" href="/Typescript-manual/assets/js/89.e066c612.js"><link rel="prefetch" href="/Typescript-manual/assets/js/9.cd5f9df5.js"><link rel="prefetch" href="/Typescript-manual/assets/js/90.745231b6.js"><link rel="prefetch" href="/Typescript-manual/assets/js/91.c8237883.js"><link rel="prefetch" href="/Typescript-manual/assets/js/92.ed67e163.js"><link rel="prefetch" href="/Typescript-manual/assets/js/93.c430654f.js"><link rel="prefetch" href="/Typescript-manual/assets/js/94.a798e7f7.js"><link rel="prefetch" href="/Typescript-manual/assets/js/95.25cdc887.js"><link rel="prefetch" href="/Typescript-manual/assets/js/96.b7cfe1a3.js"><link rel="prefetch" href="/Typescript-manual/assets/js/97.e9d8e2ff.js"><link rel="prefetch" href="/Typescript-manual/assets/js/98.8c6d97a8.js"><link rel="prefetch" href="/Typescript-manual/assets/js/99.7fe5d2d8.js">
    <link rel="stylesheet" href="/Typescript-manual/assets/css/0.styles.85f9f99a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Typescript-manual/" class="home-link router-link-active"><!----> <span class="site-name">TypeScriptæ‰‹å†Œ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Typescript-manual/describe/" class="nav-link">
  è¿›å…¥ç›®å½•
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‹æƒ…é“¾æ¥èœå•" class="dropdown-title"><span class="title">å‹æƒ…é“¾æ¥</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‹æƒ…é“¾æ¥èœå•" class="mobile-dropdown-title"><span class="title">å‹æƒ…é“¾æ¥</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://jkchao.github.io/typescript-book-chinese/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ·±å…¥ç†è§£ TypeScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://ts.xcatliu.com/introduction/hello-typescript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hello-typescript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.typescriptlang.org/docs/home.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScriptæ‰‹å†Œï¼ˆè‹±æ–‡ç‰ˆï¼‰
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScriptè¯­è¨€è§„èŒƒ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/zhongsp/TypeScript/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å‚ä¸è´¡çŒ®
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/bosens-China/Typescript-manual" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/bosens-China/Typescript-manual/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  é—®é¢˜åé¦ˆ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Typescript-manual/describe/" class="nav-link">
  è¿›å…¥ç›®å½•
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‹æƒ…é“¾æ¥èœå•" class="dropdown-title"><span class="title">å‹æƒ…é“¾æ¥</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‹æƒ…é“¾æ¥èœå•" class="mobile-dropdown-title"><span class="title">å‹æƒ…é“¾æ¥</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://jkchao.github.io/typescript-book-chinese/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ·±å…¥ç†è§£ TypeScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://ts.xcatliu.com/introduction/hello-typescript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hello-typescript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.typescriptlang.org/docs/home.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScriptæ‰‹å†Œï¼ˆè‹±æ–‡ç‰ˆï¼‰
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScriptè¯­è¨€è§„èŒƒ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/zhongsp/TypeScript/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å‚ä¸è´¡çŒ®
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/bosens-China/Typescript-manual" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/bosens-China/Typescript-manual/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  é—®é¢˜åé¦ˆ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Typescript-manual/describe/" class="sidebar-link">å‰è¨€</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>å¿«é€Ÿä¸Šæ‰‹</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/download/tutorials/typescript-in-5-minutes.html" class="sidebar-link">5åˆ†é’Ÿäº†è§£TypeScript</a></li><li><a href="/Typescript-manual/download/tutorials/asp.net-core.html" class="sidebar-link">ASP.NET Core</a></li><li><a href="/Typescript-manual/download/tutorials/asp.net-4.html" class="sidebar-link">ASP.NET 4</a></li><li><a href="/Typescript-manual/download/tutorials/gulp.html" class="sidebar-link">Gulp</a></li><li><a href="/Typescript-manual/download/tutorials/knockout.html" class="sidebar-link">Knockout.js</a></li><li><a href="/Typescript-manual/download/tutorials/react-and-webpack.html" class="sidebar-link">Reactä¸webpack</a></li><li><a href="/Typescript-manual/download/tutorials/react.html" aria-current="page" class="active sidebar-link">React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Typescript-manual/download/tutorials/react.html#å®‰è£…create-react-app" class="sidebar-link">å®‰è£…create-react-app</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/download/tutorials/react.html#åˆ›å»ºæ–°å·¥ç¨‹" class="sidebar-link">åˆ›å»ºæ–°å·¥ç¨‹</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/download/tutorials/react.html#è¿è¡Œå·¥ç¨‹" class="sidebar-link">è¿è¡Œå·¥ç¨‹</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/download/tutorials/react.html#æµ‹è¯•å·¥ç¨‹" class="sidebar-link">æµ‹è¯•å·¥ç¨‹</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/download/tutorials/react.html#ç”Ÿæˆç”Ÿäº§ç¯å¢ƒçš„æ„å»ºç‰ˆæœ¬" class="sidebar-link">ç”Ÿæˆç”Ÿäº§ç¯å¢ƒçš„æ„å»ºç‰ˆæœ¬</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/download/tutorials/react.html#åˆ›å»ºä¸€ä¸ªç»„ä»¶" class="sidebar-link">åˆ›å»ºä¸€ä¸ªç»„ä»¶</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/download/tutorials/react.html#æ·»åŠ æ ·å¼" class="sidebar-link">ğŸ˜æ·»åŠ æ ·å¼</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/download/tutorials/react.html#ä½¿ç”¨jestç¼–å†™æµ‹è¯•" class="sidebar-link">ä½¿ç”¨Jestç¼–å†™æµ‹è¯•</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/download/tutorials/react.html#æ·»åŠ stateç®¡ç†" class="sidebar-link">æ·»åŠ stateç®¡ç†</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/download/tutorials/react.html#é€€å‡º" class="sidebar-link">é€€å‡º</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/download/tutorials/react.html#ä¸‹ä¸€æ­¥" class="sidebar-link">ä¸‹ä¸€æ­¥</a></li></ul></li><li><a href="/Typescript-manual/download/tutorials/angular-2.html" class="sidebar-link">Angular 2</a></li><li><a href="/Typescript-manual/download/tutorials/migrating-from-javascript.html" class="sidebar-link">ä»JavaScriptè¿ç§»åˆ°TypeScript</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ‰‹å†Œ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/download/handbook/basic-types.html" class="sidebar-link">åŸºç¡€ç±»å‹</a></li><li><a href="/Typescript-manual/download/handbook/variable-declarations.html" class="sidebar-link">å˜é‡å£°æ˜</a></li><li><a href="/Typescript-manual/download/handbook/interfaces.html" class="sidebar-link">æ¥å£</a></li><li><a href="/Typescript-manual/download/handbook/classes.html" class="sidebar-link">ç±»</a></li><li><a href="/Typescript-manual/download/handbook/functions.html" class="sidebar-link">å‡½æ•°</a></li><li><a href="/Typescript-manual/download/handbook/literal-types.html" class="sidebar-link">å­—é¢é‡ç±»å‹</a></li><li><a href="/Typescript-manual/download/handbook/generics.html" class="sidebar-link">æ³›å‹</a></li><li><a href="/Typescript-manual/download/handbook/enums.html" class="sidebar-link">æšä¸¾</a></li><li><a href="/Typescript-manual/download/handbook/type-inference.html" class="sidebar-link">ç±»å‹æ¨è®º</a></li><li><a href="/Typescript-manual/download/handbook/type-compatibility.html" class="sidebar-link">ç±»å‹å…¼å®¹æ€§</a></li><li><a href="/Typescript-manual/download/handbook/advanced-types.html" class="sidebar-link">é«˜çº§ç±»å‹</a></li><li><a href="/Typescript-manual/download/handbook/symbols.html" class="sidebar-link">Symbols</a></li><li><a href="/Typescript-manual/download/handbook/iterators-and-generators.html" class="sidebar-link">Iterators å’Œ Generators</a></li><li><a href="/Typescript-manual/download/handbook/modules.html" class="sidebar-link">æ¨¡å—</a></li><li><a href="/Typescript-manual/download/handbook/namespaces.html" class="sidebar-link">å‘½åç©ºé—´</a></li><li><a href="/Typescript-manual/download/handbook/namespaces-and-modules.html" class="sidebar-link">å‘½åç©ºé—´å’Œæ¨¡å—</a></li><li><a href="/Typescript-manual/download/handbook/module-resolution.html" class="sidebar-link">æ¨¡å—è§£æ</a></li><li><a href="/Typescript-manual/download/handbook/declaration-merging.html" class="sidebar-link">å£°æ˜åˆå¹¶</a></li><li><a href="/Typescript-manual/download/handbook/jsx.html" class="sidebar-link">JSX</a></li><li><a href="/Typescript-manual/download/handbook/decorators.html" class="sidebar-link">Decorators</a></li><li><a href="/Typescript-manual/download/handbook/mixins.html" class="sidebar-link">æ··å…¥</a></li><li><a href="/Typescript-manual/download/handbook/triple-slash-directives.html" class="sidebar-link">ä¸‰æ–œçº¿æŒ‡ä»¤</a></li><li><a href="/Typescript-manual/download/handbook/type-checking-javascript-files.html" class="sidebar-link">JavaScriptæ–‡ä»¶é‡Œçš„ç±»å‹æ£€æŸ¥</a></li><li><a href="/Typescript-manual/download/handbook/utility-types.html" class="sidebar-link">å®ç”¨å·¥å…·ç±»å‹</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å¦‚ä½•ä¹¦å†™å£°æ˜æ–‡ä»¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/download/introduction/introduction.html" class="sidebar-link">ä»‹ç»</a></li><li><a href="/Typescript-manual/download/introduction/library-structures.html" class="sidebar-link">åº“ç»“æ„</a></li><li><a href="/Typescript-manual/download/introduction/by-example.html" class="sidebar-link">ä¸¾ä¾‹</a></li><li><a href="/Typescript-manual/download/introduction/do-s-and-don-ts.html" class="sidebar-link">æœ€ä½³å®è·µ</a></li><li><a href="/Typescript-manual/download/introduction/deep-dive.html" class="sidebar-link">æ·±å…¥</a></li><li><a href="/Typescript-manual/download/introduction/templates.html" class="sidebar-link">æ¨¡æ¿</a></li><li><a href="/Typescript-manual/download/introduction/publishing.html" class="sidebar-link">å‘å¸ƒ</a></li><li><a href="/Typescript-manual/download/introduction/consumption.html" class="sidebar-link">ä½¿ç”¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å·¥ç¨‹é…ç½®</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/download/tsconfig.json/tsconfig.json.html" class="sidebar-link">tsconfig.json</a></li><li><a href="/Typescript-manual/download/tsconfig.json/project-references.html" class="sidebar-link">å·¥ç¨‹å¼•ç”¨</a></li><li><a href="/Typescript-manual/download/tsconfig.json/typings-for-npm-packages.html" class="sidebar-link">NPMåŒ…çš„ç±»å‹</a></li><li><a href="/Typescript-manual/download/tsconfig.json/compiler-options.html" class="sidebar-link">ç¼–è¯‘é€‰é¡¹</a></li><li><a href="/Typescript-manual/download/tsconfig.json/configuring-watch.html" class="sidebar-link">é…ç½® Watch</a></li><li><a href="/Typescript-manual/download/tsconfig.json/compiler-options-in-msbuild.html" class="sidebar-link">åœ¨MSBuildé‡Œä½¿ç”¨ç¼–è¯‘é€‰é¡¹</a></li><li><a href="/Typescript-manual/download/tsconfig.json/integrating-with-build-tools.html" class="sidebar-link">ä¸å…¶å®ƒæ„å»ºå·¥å…·æ•´åˆ</a></li><li><a href="/Typescript-manual/download/tsconfig.json/nightly-builds.html" class="sidebar-link">ä½¿ç”¨TypeScriptçš„æ¯æ—¥æ„å»ºç‰ˆæœ¬</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Wiki</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/download/wiki/this-in-typescript.html" class="sidebar-link">TypeScripté‡Œçš„this</a></li><li><a href="/Typescript-manual/download/wiki/coding_guidelines.html" class="sidebar-link">ç¼–ç è§„èŒƒ</a></li><li><a href="/Typescript-manual/download/wiki/common-errors.html" class="sidebar-link">å¸¸è§ç¼–è¯‘é”™è¯¯</a></li><li><a href="/Typescript-manual/download/wiki/typescript-editor-support.html" class="sidebar-link">æ”¯æŒTypeScriptçš„ç¼–è¾‘å™¨</a></li><li><a href="/Typescript-manual/download/wiki/using-typescript-with-asp.net-5.html" class="sidebar-link">ç»“åˆASP.NET v5ä½¿ç”¨TypeScript</a></li><li><a href="/Typescript-manual/download/wiki/architectural-overview.html" class="sidebar-link">æ¶æ„æ¦‚è¿°</a></li><li><a href="/Typescript-manual/download/wiki/roadmap.html" class="sidebar-link">å‘å±•è·¯çº¿å›¾</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ–°å¢åŠŸèƒ½</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/download/release-notes/typescript-4.1.html" class="sidebar-link">TypeScript 4.1</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-4.0.html" class="sidebar-link">TypeScript 4.0</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-3.9.html" class="sidebar-link">TypeScript 3.9</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-3.8.html" class="sidebar-link">TypeScript 3.8</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-3.7.html" class="sidebar-link">TypeScript 3.7</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-3.6.html" class="sidebar-link">TypeScript 3.6</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-3.5.html" class="sidebar-link">TypeScript 3.5</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-3.4.html" class="sidebar-link">TypeScript 3.4</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-3.3.html" class="sidebar-link">TypeScript 3.3</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-3.2.html" class="sidebar-link">TypeScript 3.2</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-3.1.html" class="sidebar-link">TypeScript 3.1</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-3.0.html" class="sidebar-link">TypeScript 3.0</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-2.9.html" class="sidebar-link">TypeScript 2.9</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-2.8.html" class="sidebar-link">TypeScript 2.8</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-2.7.html" class="sidebar-link">TypeScript 2.7</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-2.6.html" class="sidebar-link">TypeScript 2.6</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-2.5.html" class="sidebar-link">TypeScript 2.5</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-2.4.html" class="sidebar-link">TypeScript 2.4</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-2.3.html" class="sidebar-link">TypeScript 2.3</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-2.2.html" class="sidebar-link">TypeScript 2.2</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-2.1.html" class="sidebar-link">TypeScript 2.1</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-2.0.html" class="sidebar-link">TypeScript 2.0</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-1.8.html" class="sidebar-link">TypeScript 1.8</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-1.7.html" class="sidebar-link">TypeScript 1.7</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-1.6.html" class="sidebar-link">TypeScript 1.6</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-1.5.html" class="sidebar-link">TypeScript 1.5</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-1.4.html" class="sidebar-link">TypeScript 1.4</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-1.3.html" class="sidebar-link">TypeScript 1.3</a></li><li><a href="/Typescript-manual/download/release-notes/typescript-1.1.html" class="sidebar-link">TypeScript 1.1</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Breaking Changes</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/download/breaking-changes/typescript-3.6.html" class="sidebar-link">TypeScript 3.6</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-3.5.html" class="sidebar-link">TypeScript 3.5</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-3.4.html" class="sidebar-link">TypeScript 3.4</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-3.2.html" class="sidebar-link">TypeScript 3.2</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-3.1.html" class="sidebar-link">TypeScript 3.1</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-3.0.html" class="sidebar-link">TypeScript 3.0</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-2.9.html" class="sidebar-link">TypeScript 2.9</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-2.8.html" class="sidebar-link">TypeScript 2.8</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-2.7.html" class="sidebar-link">TypeScript 2.7</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-2.6.html" class="sidebar-link">TypeScript 2.6</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-2.4.html" class="sidebar-link">TypeScript 2.4</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-2.3.html" class="sidebar-link">TypeScript 2.3</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-2.2.html" class="sidebar-link">TypeScript 2.2</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-2.1.html" class="sidebar-link">TypeScript 2.1</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-2.0.html" class="sidebar-link">TypeScript 2.0</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-1.8.html" class="sidebar-link">TypeScript 1.8</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-1.7.html" class="sidebar-link">TypeScript 1.7</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-1.6.html" class="sidebar-link">TypeScript 1.6</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-1.5.html" class="sidebar-link">TypeScript 1.5</a></li><li><a href="/Typescript-manual/download/breaking-changes/typescript-1.4.html" class="sidebar-link">TypeScript 1.4</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react"><a href="#react" class="header-anchor">#</a> React</h1> <p>è¿™ç¯‡å¿«é€Ÿä¸Šæ‰‹æŒ‡å—ä¼šæ•™ä½ å¦‚ä½•å°† TypeScript ä¸<a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer"> React<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç»“åˆèµ·æ¥ä½¿ç”¨ã€‚ åœ¨æœ€åï¼Œä½ å°†å­¦åˆ°ï¼š</p> <ul><li>ä½¿ç”¨ TypeScript å’Œ React åˆ›å»ºå·¥ç¨‹</li> <li>ä½¿ç”¨<a href="https://github.com/palantir/tslint" target="_blank" rel="noopener noreferrer"> TSLint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è¿›è¡Œä»£ç æ£€æŸ¥</li> <li>ä½¿ç”¨<a href="https://facebook.github.io/jest/" target="_blank" rel="noopener noreferrer"> Jest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å’Œ<a href="http://airbnb.io/enzyme/" target="_blank" rel="noopener noreferrer"> Enzyme<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è¿›è¡Œæµ‹è¯•ï¼Œä»¥åŠ</li> <li>ä½¿ç”¨<a href="https://github.com/reactjs/react-redux" target="_blank" rel="noopener noreferrer"> Redux<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç®¡ç†çŠ¶æ€</li></ul> <p>æˆ‘ä»¬ä¼šä½¿ç”¨<a href="https://github.com/facebookincubator/create-react-app" target="_blank" rel="noopener noreferrer"> create-react-app<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å·¥å…·å¿«é€Ÿæ­å»ºå·¥ç¨‹ç¯å¢ƒã€‚</p> <p>è¿™é‡Œå‡è®¾ä½ å·²ç»åœ¨ä½¿ç”¨<a href="https://nodejs.org/" target="_blank" rel="noopener noreferrer"> Node.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å’Œ<a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer"> npm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚ å¹¶ä¸”å·²ç»äº†è§£äº†<a href="https://reactjs.org/docs/hello-world.html" target="_blank" rel="noopener noreferrer"> React çš„åŸºç¡€çŸ¥è¯†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h2 id="å®‰è£…create-react-app"><a href="#å®‰è£…create-react-app" class="header-anchor">#</a> å®‰è£… create-react-app</h2> <p>æˆ‘ä»¬ä¹‹æ‰€ä»¥ä½¿ç”¨ create-react-app æ˜¯å› ä¸ºå®ƒèƒ½å¤Ÿä¸º React å·¥ç¨‹è®¾ç½®ä¸€äº›æœ‰æ•ˆçš„å·¥å…·å’Œæƒå¨çš„é»˜è®¤å‚æ•°ã€‚ å®ƒä»…ä»…æ˜¯ä¸€ä¸ªç”¨æ¥æ­å»º React å·¥ç¨‹çš„å‘½ä»¤è¡Œå·¥å…·è€Œå·²ã€‚</p> <div class="language-text extra-class"><pre class="language-text"><code>npm install -g create-react-app
</code></pre></div><h2 id="åˆ›å»ºæ–°å·¥ç¨‹"><a href="#åˆ›å»ºæ–°å·¥ç¨‹" class="header-anchor">#</a> åˆ›å»ºæ–°å·¥ç¨‹</h2> <p>è®©æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªå«åš <code>my-app</code>  çš„æ–°å·¥ç¨‹ï¼š</p> <div class="language-text extra-class"><pre class="language-text"><code>create-react-app my-app --scripts-version=react-scripts-ts
</code></pre></div><p><a href="https://www.npmjs.com/package/react-scripts-ts" target="_blank" rel="noopener noreferrer">react-scripts-ts<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ˜¯ä¸€ç³»åˆ—é€‚é…å™¨ï¼Œå®ƒåˆ©ç”¨æ ‡å‡†çš„ create-react-app å·¥ç¨‹ç®¡é“å¹¶æŠŠ TypeScript æ··å…¥è¿›æ¥ã€‚</p> <p>æ­¤æ—¶çš„å·¥ç¨‹ç»“æ„åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p> <div class="language-text extra-class"><pre class="language-text"><code>my-app/
â”œâ”€ .gitignore
â”œâ”€ node_modules/
â”œâ”€ public/
â”œâ”€ src/
â”‚  â””â”€ ...
â”œâ”€ package.json
â”œâ”€ tsconfig.json
â””â”€ tslint.json
</code></pre></div><p>æ³¨æ„ï¼š</p> <ul><li><code>tsconfig.json</code>  åŒ…å«äº†å·¥ç¨‹é‡Œ TypeScript ç‰¹å®šçš„é€‰é¡¹ã€‚</li> <li><code>tslint.json</code>  ä¿å­˜äº†è¦ä½¿ç”¨çš„ä»£ç æ£€æŸ¥å™¨çš„è®¾ç½®ï¼Œ<a href="https://github.com/palantir/tslint" target="_blank" rel="noopener noreferrer">TSLint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</li> <li><code>package.json</code>  åŒ…å«äº†ä¾èµ–ï¼Œè¿˜æœ‰ä¸€äº›å‘½ä»¤çš„å¿«æ·æ–¹å¼ï¼Œå¦‚æµ‹è¯•å‘½ä»¤ï¼Œé¢„è§ˆå‘½ä»¤å’Œå‘å¸ƒåº”ç”¨çš„å‘½ä»¤ã€‚</li> <li><code>public</code>  åŒ…å«äº†é™æ€èµ„æºå¦‚ HTML é¡µé¢æˆ–å›¾ç‰‡ã€‚é™¤äº† <code>index.html</code>  æ–‡ä»¶å¤–ï¼Œå…¶å®ƒçš„æ–‡ä»¶éƒ½å¯ä»¥åˆ é™¤ã€‚</li> <li><code>src</code>  åŒ…å«äº† TypeScript å’Œ CSS æºç ã€‚ <code>index.tsx</code>  æ˜¯å¼ºåˆ¶ä½¿ç”¨çš„å…¥å£æ–‡ä»¶ã€‚</li></ul> <h2 id="è¿è¡Œå·¥ç¨‹"><a href="#è¿è¡Œå·¥ç¨‹" class="header-anchor">#</a> è¿è¡Œå·¥ç¨‹</h2> <p>é€šè¿‡ä¸‹é¢çš„æ–¹å¼å³å¯è½»æ¾åœ°è¿è¡Œè¿™ä¸ªå·¥ç¨‹ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run start
</code></pre></div><p>å®ƒä¼šæ‰§è¡Œ <code>package.json</code>  é‡Œé¢æŒ‡å®šçš„ <code>start</code>  å‘½ä»¤ï¼Œå¹¶ä¸”ä¼šå¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå½“æˆ‘ä»¬ä¿å­˜æ–‡ä»¶æ—¶è¿˜ä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢ã€‚ é€šå¸¸è¿™ä¸ªæœåŠ¡å™¨çš„åœ°å€æ˜¯ <code>http://localhost:3000</code> ï¼Œé¡µé¢åº”ç”¨ä¼šè¢«è‡ªåŠ¨åœ°æ‰“å¼€ã€‚</p> <p>å®ƒä¼šä¿æŒç›‘å¬ä»¥æ–¹ä¾¿æˆ‘ä»¬å¿«é€Ÿåœ°é¢„è§ˆæ”¹åŠ¨ã€‚</p> <h2 id="æµ‹è¯•å·¥ç¨‹"><a href="#æµ‹è¯•å·¥ç¨‹" class="header-anchor">#</a> æµ‹è¯•å·¥ç¨‹</h2> <p>æµ‹è¯•ä¹Ÿä»…ä»…æ˜¯ä¸€è¡Œå‘½ä»¤çš„äº‹å„¿ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run <span class="token builtin class-name">test</span>
</code></pre></div><p>è¿™ä¸ªå‘½ä»¤ä¼šè¿è¡Œ Jestï¼Œä¸€ä¸ªéå¸¸å¥½ç”¨çš„æµ‹è¯•å·¥å…·ï¼Œå®ƒä¼šè¿è¡Œæ‰€æœ‰æ‰©å±•åæ˜¯ <code>.test.ts</code>  æˆ– <code>.spec.ts</code>  çš„æ–‡ä»¶ã€‚ å¥½æ¯”æ˜¯ <code>npm run start</code>  å‘½ä»¤ï¼Œå½“æ£€æµ‹åˆ°æœ‰æ”¹åŠ¨çš„æ—¶å€™ Jest ä¼šè‡ªåŠ¨åœ°è¿è¡Œã€‚ å¦‚æœå–œæ¬¢çš„è¯ï¼Œä½ è¿˜å¯ä»¥åŒæ—¶è¿è¡Œ <code>npm run start</code>  å’Œ <code>npm run test</code> ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨é¢„è§ˆçš„åŒæ—¶è¿›è¡Œæµ‹è¯•ã€‚</p> <h2 id="ç”Ÿæˆç”Ÿäº§ç¯å¢ƒçš„æ„å»ºç‰ˆæœ¬"><a href="#ç”Ÿæˆç”Ÿäº§ç¯å¢ƒçš„æ„å»ºç‰ˆæœ¬" class="header-anchor">#</a> ç”Ÿæˆç”Ÿäº§ç¯å¢ƒçš„æ„å»ºç‰ˆæœ¬</h2> <p>åœ¨ä½¿ç”¨ <code>npm run start</code>  è¿è¡Œå·¥ç¨‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰ç”Ÿæˆä¸€ä¸ªä¼˜åŒ–è¿‡çš„ç‰ˆæœ¬ã€‚ é€šå¸¸æˆ‘ä»¬æƒ³ç»™ç”¨æˆ·ä¸€ä¸ªè¿è¡Œçš„å°½å¯èƒ½å¿«å¹¶åœ¨ä½“ç§¯ä¸Šå°½å¯èƒ½å°çš„ä»£ç ã€‚ åƒå‹ç¼©è¿™æ ·çš„ä¼˜åŒ–æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯æ€»æ˜¯è¦è€—è´¹æ›´å¤šçš„æ—¶é—´ã€‚ æˆ‘ä»¬æŠŠè¿™æ ·çš„æ„å»ºç‰ˆæœ¬ç§°åš â€œç”Ÿäº§ç¯å¢ƒâ€ ç‰ˆæœ¬ï¼ˆä¸å¼€å‘ç‰ˆæœ¬ç›¸å¯¹ï¼‰ã€‚</p> <p>è¦æ‰§è¡Œç”Ÿäº§ç¯å¢ƒçš„æ„å»ºï¼Œå¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run build
</code></pre></div><p>è¿™ä¼šç›¸åº”åœ°åˆ›å»ºä¼˜åŒ–è¿‡çš„ JS å’Œ CSS æ–‡ä»¶ï¼Œ <code>./build/static/js</code>  å’Œ <code>./build/static/css</code> ã€‚</p> <p>å¤§å¤šæ•°æƒ…å†µä¸‹ä½ ä¸éœ€è¦ç”Ÿæˆç”Ÿäº§ç¯å¢ƒçš„æ„å»ºç‰ˆæœ¬ï¼Œ ä½†å®ƒå¯ä»¥å¸®åŠ©ä½ è¡¡é‡åº”ç”¨æœ€ç»ˆç‰ˆæœ¬çš„ä½“ç§¯å¤§å°ã€‚</p> <h2 id="åˆ›å»ºä¸€ä¸ªç»„ä»¶"><a href="#åˆ›å»ºä¸€ä¸ªç»„ä»¶" class="header-anchor">#</a> åˆ›å»ºä¸€ä¸ªç»„ä»¶</h2> <p>ä¸‹é¢æˆ‘ä»¬å°†è¦åˆ›å»ºä¸€ä¸ª <code>Hello</code>  ç»„ä»¶ã€‚ è¿™ä¸ªç»„ä»¶æ¥æ”¶ä»»æ„ä¸€ä¸ªæˆ‘ä»¬æƒ³å¯¹ä¹‹æ‰“æ‹›å‘¼çš„åå­—ï¼ˆæˆ‘ä»¬æŠŠå®ƒå«åš <code>name</code> ï¼‰ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªå¯é€‰æ•°é‡çš„æ„Ÿå¹å·åšä¸ºç»“å°¾ï¼ˆé€šè¿‡ <code>enthusiasmLevel</code> ï¼‰ã€‚</p> <p>è‹¥æˆ‘ä»¬è¿™æ ·å†™ <code>&lt;Hello name=&quot;Daniel&quot; enthusiasmLevel={3} /&gt;</code> ï¼Œè¿™ä¸ªç»„ä»¶å¤§è‡³ä¼šæ¸²æŸ“æˆ <code>&lt;div&gt;Hello Daniel!!!&lt;/div&gt;</code> ã€‚ å¦‚æœæ²¡æŒ‡å®š <code>enthusiasmLevel</code> ï¼Œç»„ä»¶å°†é»˜è®¤æ˜¾ç¤ºä¸€ä¸ªæ„Ÿå¹å·ã€‚ è‹¥ <code>enthusiasmLevel</code>  ä¸º <code>0</code>  æˆ–è´Ÿå€¼å°†æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p> <p>ä¸‹é¢æ¥å†™ä¸€ä¸‹ <code>Hello.tsx</code> ï¼š</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// src/components/Hello.tsx</span>

<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  enthusiasmLevel<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> enthusiasmLevel <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token operator">:</span> Props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>enthusiasmLevel <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'You could be a little more enthusiastic. :D'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;greeting&quot;</span><span class="token operator">&gt;</span>
        Hello <span class="token punctuation">{</span>name <span class="token operator">+</span> <span class="token function">getExclamationMarks</span><span class="token punctuation">(</span>enthusiasmLevel<span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Hello<span class="token punctuation">;</span>

<span class="token comment">// helpers</span>

<span class="token keyword">function</span> <span class="token function">getExclamationMarks</span><span class="token punctuation">(</span>numChars<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">Array</span><span class="token punctuation">(</span>numChars <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ³¨æ„æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç±»å‹ <code>Props</code> ï¼Œå®ƒæŒ‡å®šäº†æˆ‘ä»¬ç»„ä»¶è¦ç”¨åˆ°çš„å±æ€§ã€‚  <code>name</code>  æ˜¯å¿…éœ€çš„ä¸”ä¸º <code>string</code>  ç±»å‹ï¼ŒåŒæ—¶ <code>enthusiasmLevel</code>  æ˜¯å¯é€‰çš„ä¸”ä¸º <code>number</code>  ç±»å‹ï¼ˆä½ å¯ä»¥é€šè¿‡åå­—åé¢åŠ  <code>?</code>  ä¸ºæŒ‡å®šå¯é€‰å‚æ•°ï¼‰ã€‚</p> <p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°ç»„ä»¶ <code>Hello</code> ã€‚ å…·ä½“æ¥è®²ï¼Œ <code>Hello</code>  æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ª <code>Props</code>  å¯¹è±¡å¹¶æ‹†è§£å®ƒã€‚ å¦‚æœ <code>Props</code>  å¯¹è±¡é‡Œæ²¡æœ‰è®¾ç½® <code>enthusiasmLevel</code> ï¼Œé»˜è®¤å€¼ä¸º <code>1</code> ã€‚</p> <p>ä½¿ç”¨å‡½æ•°æ˜¯ React ä¸­å®šä¹‰ç»„ä»¶çš„<a href="https://reactjs.org/docs/components-and-props.html#functional-and-class-components" target="_blank" rel="noopener noreferrer">ä¸¤ç§æ–¹å¼<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¹‹ä¸€ã€‚ å¦‚æœä½ å–œæ¬¢çš„è¯ï¼Œä¹Ÿ_å¯ä»¥_é€šè¿‡ç±»çš„æ–¹å¼å®šä¹‰ï¼š</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React</span><span class="token punctuation">.</span>Component<span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> object<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> enthusiasmLevel <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>enthusiasmLevel <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'You could be a little more enthusiastic. :D'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;greeting&quot;</span><span class="token operator">&gt;</span>
          Hello <span class="token punctuation">{</span>name <span class="token operator">+</span> <span class="token function">getExclamationMarks</span><span class="token punctuation">(</span>enthusiasmLevel<span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å½“æˆ‘ä»¬çš„<a href="https://reactjs.org/docs/state-and-lifecycle.html" target="_blank" rel="noopener noreferrer">ç»„ä»¶å…·æœ‰æŸäº›çŠ¶æ€<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>çš„æ—¶å€™ï¼Œä½¿ç”¨ç±»çš„æ–¹å¼æ˜¯å¾ˆæœ‰ç”¨å¤„çš„ã€‚ ä½†åœ¨è¿™ä¸ªä¾‹å­é‡Œæˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘çŠ¶æ€ - äº‹å®ä¸Šï¼Œåœ¨ <code>React.Component&lt;Props, object&gt;</code>  æˆ‘ä»¬æŠŠçŠ¶æ€æŒ‡å®šä¸ºäº† <code>object</code> ï¼Œå› æ­¤ä½¿ç”¨å‡½æ•°ç»„ä»¶æ›´ç®€æ´ã€‚ å½“åœ¨åˆ›å»ºå¯é‡ç”¨çš„é€šç”¨ UI ç»„ä»¶çš„æ—¶å€™ï¼Œåœ¨è¡¨ç°å±‚ä½¿ç”¨ç»„ä»¶å±€éƒ¨çŠ¶æ€æ¯”è¾ƒé€‚åˆã€‚ é’ˆå¯¹æˆ‘ä»¬åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬ä¼šå®¡è§†åº”ç”¨æ˜¯å¦‚ä½•é€šè¿‡ Redux è½»æ¾åœ°ç®¡ç†æ™®é€šçŠ¶æ€çš„ã€‚</p> <p>ç°åœ¨æˆ‘ä»¬å·²ç»å†™å¥½äº†ç»„ä»¶ï¼Œè®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹ <code>index.tsx</code> ï¼ŒæŠŠ <code>&lt;App /&gt;</code>  æ›¿æ¢æˆ <code>&lt;Hello ... /&gt;</code> ã€‚</p> <p>é¦–å…ˆæˆ‘ä»¬åœ¨æ–‡ä»¶å¤´éƒ¨å¯¼å…¥å®ƒï¼š</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">'./components/Hello'</span><span class="token punctuation">;</span>
</code></pre></div><p>ç„¶åä¿®æ”¹ <code>render</code>  è°ƒç”¨ï¼š</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Hello name<span class="token operator">=</span><span class="token string">&quot;TypeScript&quot;</span> enthusiasmLevel<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ç±»å‹æ–­è¨€"><a href="#ç±»å‹æ–­è¨€" class="header-anchor">#</a> ç±»å‹æ–­è¨€</h3> <p>è¿™é‡Œè¿˜æœ‰ä¸€ç‚¹è¦æŒ‡å‡ºï¼Œå°±æ˜¯æœ€åä¸€è¡Œ <code>document.getElementById('root') as HTMLElement</code> ã€‚ è¿™ä¸ªè¯­æ³•å«åš_ç±»å‹æ–­è¨€_ï¼Œæœ‰æ—¶ä¹Ÿå«åš_è½¬æ¢_ã€‚ å½“ä½ æ¯”ç±»å‹æ£€æŸ¥å™¨æ›´æ¸…æ¥šä¸€ä¸ªè¡¨è¾¾å¼çš„ç±»å‹çš„æ—¶å€™ï¼Œä½ å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼é€šçŸ¥ TypeScriptã€‚</p> <p>è¿™é‡Œï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥è¿™ä¹ˆåšæ˜¯å› ä¸º <code>getElementById</code>  çš„è¿”å›å€¼ç±»å‹æ˜¯ <code>HTMLElement | null</code> ã€‚ ç®€å•åœ°è¯´ï¼Œ <code>getElementById</code>  è¿”å› <code>null</code>  æ˜¯å½“æ— æ³•æ‰¾å¯¹å¯¹åº” <code>id</code>  å…ƒç´ çš„æ—¶å€™ã€‚ æˆ‘ä»¬å‡è®¾ <code>getElementById</code>  æ€»æ˜¯æˆåŠŸçš„ï¼Œå› æ­¤æˆ‘ä»¬è¦ä½¿ç”¨ <code>as</code>  è¯­æ³•å‘Šè¯‰ TypeScript è¿™ç‚¹ã€‚</p> <p>TypeScript è¿˜æœ‰ä¸€ç§æ„Ÿå¹å·ï¼ˆ <code>!</code> ï¼‰ç»“å°¾çš„è¯­æ³•ï¼Œå®ƒä¼šä»å‰é¢çš„è¡¨è¾¾å¼é‡Œç§»é™¤ <code>null</code>  å’Œ <code>undefined</code> ã€‚ æ‰€ä»¥æˆ‘ä»¬ä¹Ÿ_å¯ä»¥_å†™æˆ <code>document.getElementById('root')!</code> ï¼Œä½†åœ¨è¿™é‡Œæˆ‘ä»¬æƒ³å†™çš„æ›´æ¸…æ¥šäº›ã€‚</p> <h2 id="æ·»åŠ æ ·å¼"><a href="#æ·»åŠ æ ·å¼" class="header-anchor">#</a> ğŸ˜æ·»åŠ æ ·å¼</h2> <p>é€šè¿‡æˆ‘ä»¬çš„è®¾ç½®ä¸ºä¸€ä¸ªç»„ä»¶æ·»åŠ æ ·å¼å¾ˆå®¹æ˜“ã€‚ è‹¥è¦è®¾ç½® <code>Hello</code>  ç»„ä»¶çš„æ ·å¼ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè¿™æ ·ä¸€ä¸ª CSS æ–‡ä»¶ <code>src/components/Hello.css</code> ã€‚</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.hello</span> <span class="token punctuation">{</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 48px<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Segoe UI'</span><span class="token punctuation">,</span> Tahoma<span class="token punctuation">,</span> Geneva<span class="token punctuation">,</span> Verdana<span class="token punctuation">,</span> sans-serif
<span class="token punctuation">}</span>

<span class="token selector">.hello button</span> <span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token property">min-width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>create-react-app</code>  åŒ…å«çš„å·¥å…·ï¼ˆWebpack å’Œä¸€äº›åŠ è½½å™¨ï¼‰å…è®¸æˆ‘ä»¬å¯¼å…¥æ ·å¼è¡¨æ–‡ä»¶ã€‚ å½“æˆ‘ä»¬æ„å»ºåº”ç”¨çš„æ—¶å€™ï¼Œæ‰€æœ‰å¯¼å…¥çš„ <code>.css</code>  æ–‡ä»¶ä¼šè¢«æ‹¼æ¥æˆä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ã€‚ å› æ­¤åœ¨ <code>src/components/Hello.tsx</code> ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ å¦‚ä¸‹å¯¼å…¥è¯­å¥ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token string">'./Hello.css'</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ä½¿ç”¨jestç¼–å†™æµ‹è¯•"><a href="#ä½¿ç”¨jestç¼–å†™æµ‹è¯•" class="header-anchor">#</a> ä½¿ç”¨ Jest ç¼–å†™æµ‹è¯•</h2> <p>å¦‚æœä½ æ²¡ä½¿ç”¨è¿‡ Jestï¼Œä½ å¯èƒ½å…ˆè¦æŠŠå®ƒå®‰è£…ä¸ºå¼€å‘ä¾èµ–é¡¹ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D jest jest-cli jest-config
</code></pre></div><p>æˆ‘ä»¬å¯¹ <code>Hello</code>  ç»„ä»¶æœ‰ä¸€äº›å‡è®¾ã€‚ è®©æˆ‘ä»¬åœ¨æ­¤é‡ç”³ä¸€ä¸‹ï¼š</p> <blockquote><ul><li>å½“è¿™æ ·å†™ <code>&lt;Hello name=&quot;Daniel&quot; enthusiasmLevel={3} /&gt;</code>  æ—¶ï¼Œç»„ä»¶åº”è¢«æ¸²æŸ“æˆ <code>&lt;div&gt;Hello Daniel!!!&lt;/div&gt;</code> ã€‚</li> <li>è‹¥æœªæŒ‡å®š <code>enthusiasmLevel</code> ï¼Œç»„ä»¶åº”é»˜è®¤æ˜¾ç¤ºä¸€ä¸ªæ„Ÿå¹å·ã€‚</li> <li>è‹¥ <code>enthusiasmLevel</code>  ä¸º <code>0</code>  æˆ–è´Ÿå€¼ï¼Œå®ƒåº”æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</li></ul></blockquote> <p>æˆ‘ä»¬å°†é’ˆå¯¹è¿™äº›éœ€æ±‚ä¸ºç»„ä»¶å†™ä¸€äº›æ³¨é‡Šã€‚</p> <p>ä½†é¦–å…ˆï¼Œæˆ‘ä»¬è¦å®‰è£… Enzymeã€‚ <a href="http://airbnb.io/enzyme/" target="_blank" rel="noopener noreferrer">Enzyme<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ˜¯ React ç”Ÿæ€ç³»ç»Ÿé‡Œä¸€ä¸ªé€šç”¨å·¥å…·ï¼Œå®ƒæ–¹ä¾¿äº†é’ˆå¯¹ç»„ä»¶çš„è¡Œä¸ºç¼–å†™æµ‹è¯•ã€‚ é»˜è®¤åœ°ï¼Œæˆ‘ä»¬çš„åº”ç”¨åŒ…å«äº†ä¸€ä¸ªå«åš jsdom çš„åº“ï¼Œå®ƒå…è®¸æˆ‘ä»¬æ¨¡æ‹Ÿ DOM ä»¥åŠåœ¨éæµè§ˆå™¨çš„ç¯å¢ƒä¸‹æµ‹è¯•è¿è¡Œæ—¶çš„è¡Œä¸ºã€‚ Enzyme ä¸æ­¤ç±»ä¼¼ï¼Œä½†æ˜¯æ˜¯åŸºäº jsdom çš„ï¼Œå¹¶ä¸”æ–¹ä¾¿æˆ‘ä»¬æŸ¥è¯¢ç»„ä»¶ã€‚</p> <p>è®©æˆ‘ä»¬æŠŠå®ƒå®‰è£…ä¸ºå¼€å‘ä¾èµ–é¡¹ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D enzyme @types/enzyme enzyme-adapter-react-16 @types/enzyme-adapter-react-16
</code></pre></div><p>å¦‚æœä½ çš„ react ç‰ˆæœ¬ä½äº 15.5.0ï¼Œè¿˜éœ€å®‰è£…å¦‚ä¸‹</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D react-addons-test-utils
</code></pre></div><p>æ³¨æ„æˆ‘ä»¬åŒæ—¶å®‰è£…äº† <code>enzyme</code>  å’Œ <code>@types/enzyme</code> ã€‚  <code>enzyme</code>  åŒ…æŒ‡çš„æ˜¯åŒ…å«äº†å®é™…è¿è¡Œçš„ JavaScript ä»£ç åŒ…ï¼Œè€Œ <code>@types/enzyme</code>  åˆ™åŒ…å«äº†å£°æ˜æ–‡ä»¶ï¼ˆ <code>.d.ts</code>  æ–‡ä»¶ï¼‰çš„åŒ…ï¼Œä»¥ä¾¿ TypeScript èƒ½å¤Ÿäº†è§£è¯¥å¦‚ä½•ä½¿ç”¨ Enzymeã€‚ ä½ å¯ä»¥åœ¨<a href="https://www.typescriptlang.org/docs/handbook/declaration-files/consumption.html" target="_blank" rel="noopener noreferrer">è¿™é‡Œ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>äº†è§£æ›´å¤šå…³äº <code>@types</code>  åŒ…çš„ä¿¡æ¯ã€‚</p> <p>æˆ‘ä»¬è¿˜éœ€è¦å®‰è£… <code>enzyme-adapter</code>  å’Œ <code>react-addons-test-utils</code> ã€‚ å®ƒä»¬æ˜¯ä½¿ç”¨ <code>enzyme</code>  æ‰€éœ€è¦å®‰è£…çš„åŒ…ï¼Œå‰è€…ä½œä¸ºé…ç½®é€‚é…å™¨æ˜¯å¿…é¡»çš„ï¼Œè€Œåè€…è‹¥é‡‡ç”¨çš„ React ç‰ˆæœ¬åœ¨ 15.5.0 ä¹‹ä¸Šåˆ™æ¯‹éœ€å®‰è£…ã€‚</p> <p>ç°åœ¨æˆ‘ä»¬å·²ç»è®¾ç½®å¥½äº† Enzymeï¼Œä¸‹é¢å¼€å§‹ç¼–å†™æµ‹è¯•ï¼ å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ <code>src/components/Hello.test.tsx</code> ï¼Œä¸å…ˆå‰çš„ <code>Hello.tsx</code>  æ–‡ä»¶æ”¾åœ¨ä¸€èµ·ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// src/components/Hello.test.tsx</span>

<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> enzyme <span class="token keyword">from</span> <span class="token string">'enzyme'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Adapter <span class="token keyword">from</span> <span class="token string">'enzyme-adapter-react-16'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">'./Hello'</span><span class="token punctuation">;</span>

enzyme<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span> adapter<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'renders the correct text when no enthusiasm level is given'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> hello <span class="token operator">=</span> enzyme<span class="token punctuation">.</span><span class="token function">shallow</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Hello name<span class="token operator">=</span><span class="token string">'Daniel'</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>hello<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;.greeting&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">'Hello Daniel!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'renders the correct text with an explicit enthusiasm of 1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> hello <span class="token operator">=</span> enzyme<span class="token punctuation">.</span><span class="token function">shallow</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Hello name<span class="token operator">=</span><span class="token string">'Daniel'</span> enthusiasmLevel<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>hello<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;.greeting&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">'Hello Daniel!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'renders the correct text with an explicit enthusiasm level of 5'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> hello <span class="token operator">=</span> enzyme<span class="token punctuation">.</span><span class="token function">shallow</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Hello name<span class="token operator">=</span><span class="token string">'Daniel'</span> enthusiasmLevel<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>hello<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;.greeting&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">'Hello Daniel!!!!!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'throws when the enthusiasm level is 0'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    enzyme<span class="token punctuation">.</span><span class="token function">shallow</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Hello name<span class="token operator">=</span><span class="token string">'Daniel'</span> enthusiasmLevel<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'throws when the enthusiasm level is negative'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    enzyme<span class="token punctuation">.</span><span class="token function">shallow</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Hello name<span class="token operator">=</span><span class="token string">'Daniel'</span> enthusiasmLevel<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™äº›æµ‹è¯•éƒ½ååˆ†åŸºç¡€ï¼Œä½†ä½ å¯ä»¥ä»ä¸­å¾—åˆ°å¯å‘ã€‚</p> <h2 id="æ·»åŠ stateç®¡ç†"><a href="#æ·»åŠ stateç®¡ç†" class="header-anchor">#</a> æ·»åŠ  state ç®¡ç†</h2> <p>åˆ°æ­¤ä¸ºæ­¢ï¼Œå¦‚æœä½ ä½¿ç”¨ React çš„ç›®çš„æ˜¯åªè·å–ä¸€æ¬¡æ•°æ®å¹¶æ˜¾ç¤ºï¼Œé‚£ä¹ˆä½ å·²ç»å®Œæˆäº†ã€‚ ä½†æ˜¯å¦‚æœä½ æƒ³å¼€å‘ä¸€ä¸ªå¯ä»¥äº¤äº’çš„åº”ç”¨ï¼Œé‚£ä¹ˆä½ éœ€è¦æ·»åŠ  state ç®¡ç†ã€‚</p> <h3 id="stateç®¡ç†æ¦‚è¿°"><a href="#stateç®¡ç†æ¦‚è¿°" class="header-anchor">#</a> state ç®¡ç†æ¦‚è¿°</h3> <p>React æœ¬èº«å°±æ˜¯ä¸€ä¸ªé€‚åˆäºåˆ›å»ºå¯ç»„åˆå‹è§†å›¾çš„åº“ã€‚ ä½†æ˜¯ï¼ŒReact å¹¶æ²¡æœ‰ä»»ä½•åœ¨åº”ç”¨é—´åŒæ­¥æ•°æ®çš„åŠŸèƒ½ã€‚ å°± React ç»„ä»¶è€Œè¨€ï¼Œæ•°æ®æ˜¯é€šè¿‡æ¯ä¸ªå…ƒç´ ä¸ŠæŒ‡å®šçš„ props å‘å­å…ƒç´ ä¼ é€’ã€‚</p> <p>å› ä¸º React æœ¬èº«å¹¶æ²¡æœ‰æä¾›å†…ç½®çš„ state ç®¡ç†åŠŸèƒ½ï¼ŒReact ç¤¾åŒºé€‰æ‹©äº† Redux å’Œ MobX åº“ã€‚</p> <p><a href="http://redux.js.org" target="_blank" rel="noopener noreferrer">Redux<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¾é ä¸€ä¸ªç»Ÿä¸€ä¸”ä¸å¯å˜çš„æ•°æ®å­˜å‚¨æ¥åŒæ­¥æ•°æ®ï¼Œå¹¶ä¸”æ›´æ–°é‚£é‡Œçš„æ•°æ®æ—¶ä¼šè§¦å‘åº”ç”¨çš„æ›´æ–°æ¸²æŸ“ã€‚ state çš„æ›´æ–°æ˜¯ä»¥ä¸€ç§ä¸å¯å˜çš„æ–¹å¼è¿›è¡Œï¼Œå®ƒä¼šå‘å¸ƒä¸€æ¡æ˜ç¡®çš„ action æ¶ˆæ¯ï¼Œè¿™ä¸ªæ¶ˆæ¯å¿…é¡»è¢« reducer å‡½æ•°å¤„ç†ã€‚ ç”±äºä½¿ç”¨äº†è¿™æ ·æ˜ç¡®çš„æ–¹å¼ï¼Œå¾ˆå®¹æ˜“å¼„æ¸…æ¥šä¸€ä¸ª action æ˜¯å¦‚ä½•å½±å“ç¨‹åºçš„ stateã€‚</p> <p><a href="https://mobx.js.org/" target="_blank" rel="noopener noreferrer">MobX<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å€ŸåŠ©äºå‡½æ•°å¼å“åº”å‹æ¨¡å¼ï¼Œstate è¢«åŒ…è£…åœ¨äº†å¯è§‚å¯Ÿå¯¹è±¡é‡Œï¼Œå¹¶é€šè¿‡ props ä¼ é€’ã€‚ é€šè¿‡å°† state æ ‡è®°ä¸ºå¯è§‚å¯Ÿçš„ï¼Œå³å¯åœ¨æ‰€æœ‰è§‚å¯Ÿè€…ä¹‹é—´ä¿æŒ state çš„åŒæ­¥æ€§ã€‚ å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œè¿™ä¸ªåº“å·²ç»ä½¿ç”¨ TypeScript å®ç°äº†ã€‚</p> <p>è¿™ä¸¤è€…å„æœ‰ä¼˜ç¼ºç‚¹ã€‚ ä½† Redux ä½¿ç”¨å¾—æ›´å¹¿æ³›ï¼Œå› æ­¤åœ¨è¿™ç¯‡æ•™ç¨‹é‡Œï¼Œæˆ‘ä»¬ä¸»è¦çœ‹å¦‚ä½•ä½¿ç”¨ Reduxï¼› ä½†æ˜¯ä¹Ÿé¼“åŠ±å¤§å®¶ä¸¤è€…éƒ½å»äº†è§£ä¸€ä¸‹ã€‚</p> <p>åé¢çš„å°èŠ‚å­¦ä¹ æ›²çº¿æ¯”è¾ƒé™¡ã€‚ å› æ­¤å¼ºçƒˆå»ºè®®å¤§å®¶å…ˆå»<a href="http://redux.js.org/" target="_blank" rel="noopener noreferrer">ç†Ÿæ‚‰ä¸€ä¸‹ Redux<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h3 id="è®¾ç½®actions"><a href="#è®¾ç½®actions" class="header-anchor">#</a> è®¾ç½® actions</h3> <p>åªæœ‰å½“åº”ç”¨é‡Œçš„ state ä¼šæ”¹å˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰éœ€è¦å»æ·»åŠ  Reduxã€‚ æˆ‘ä»¬éœ€è¦ä¸€ä¸ª action çš„æ¥æºï¼Œå®ƒå°†è§¦å‘æ”¹å˜ã€‚ å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå®šæ—¶å™¨æˆ–è€… UI ä¸Šçš„ä¸€ä¸ªæŒ‰é’®ã€‚</p> <p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†å¢åŠ ä¸¤ä¸ªæŒ‰é’®æ¥æ§åˆ¶ <code>Hello</code>  ç»„ä»¶çš„æ„Ÿå¹çº§åˆ«ã€‚</p> <h3 id="å®‰è£…redux"><a href="#å®‰è£…redux" class="header-anchor">#</a> å®‰è£… Redux</h3> <p>å®‰è£… <code>redux</code>  å’Œ <code>react-redux</code>  ä»¥åŠå®ƒä»¬çš„ç±»å‹æ–‡ä»¶åšä¸ºä¾èµ–ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -S redux react-redux @types/react-redux
</code></pre></div><p>è¿™é‡Œæˆ‘ä»¬ä¸éœ€è¦å®‰è£… <code>@types/redux</code> ï¼Œå› ä¸º Redux å·²ç»è‡ªå¸¦äº†å£°æ˜æ–‡ä»¶ï¼ˆ <code>.d.ts</code>  æ–‡ä»¶ï¼‰ã€‚</p> <h3 id="å®šä¹‰åº”ç”¨çš„çŠ¶æ€"><a href="#å®šä¹‰åº”ç”¨çš„çŠ¶æ€" class="header-anchor">#</a> å®šä¹‰åº”ç”¨çš„çŠ¶æ€</h3> <p>æˆ‘ä»¬éœ€è¦å®šä¹‰ Redux ä¿å­˜çš„ state çš„ç»“æ„ã€‚ åˆ›å»º <code>src/types/index.tsx</code>  æ–‡ä»¶ï¼Œå®ƒä¿å­˜äº†ç±»å‹çš„å®šä¹‰ï¼Œæˆ‘ä»¬åœ¨æ•´ä¸ªç¨‹åºé‡Œéƒ½å¯èƒ½ç”¨åˆ°ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// src/types/index.tsx</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">StoreState</span> <span class="token punctuation">{</span>
    languageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    enthusiasmLevel<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™é‡Œæˆ‘ä»¬æƒ³è®© <code>languageName</code>  è¡¨ç¤ºåº”ç”¨ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼ˆä¾‹å¦‚ï¼ŒTypeScript æˆ–è€… JavaScriptï¼‰ï¼Œ <code>enthusiasmLevel</code>  æ˜¯å¯å˜çš„ã€‚ åœ¨å†™æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œå°±ä¼šæ˜ç™½ä¸ºä»€ä¹ˆè¦ä»¤ state ä¸ props ç¨æœ‰ä¸åŒã€‚</p> <h3 id="æ·»åŠ actions"><a href="#æ·»åŠ actions" class="header-anchor">#</a> æ·»åŠ  actions</h3> <p>ä¸‹é¢æˆ‘ä»¬åˆ›å»ºè¿™ä¸ªåº”ç”¨å°†è¦å“åº”çš„æ¶ˆæ¯ç±»å‹ï¼Œ <code>src/constants/index.tsx</code> ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// src/constants/index.tsx</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">INCREMENT_ENTHUSIASM</span> <span class="token operator">=</span> <span class="token string">'INCREMENT_ENTHUSIASM'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name"><span class="token constant">INCREMENT_ENTHUSIASM</span></span> <span class="token operator">=</span> <span class="token keyword">typeof</span> <span class="token constant">INCREMENT_ENTHUSIASM</span><span class="token punctuation">;</span>


<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">DECREMENT_ENTHUSIASM</span> <span class="token operator">=</span> <span class="token string">'DECREMENT_ENTHUSIASM'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name"><span class="token constant">DECREMENT_ENTHUSIASM</span></span> <span class="token operator">=</span> <span class="token keyword">typeof</span> <span class="token constant">DECREMENT_ENTHUSIASM</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™é‡Œçš„ <code>const</code> / <code>type</code>  æ¨¡å¼å…è®¸æˆ‘ä»¬ä»¥å®¹æ˜“è®¿é—®å’Œé‡æ„çš„æ–¹å¼ä½¿ç”¨ TypeScript çš„å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹ã€‚</p> <p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€äº› actions ä»¥åŠåˆ›å»ºè¿™äº› actions çš„å‡½æ•°ï¼Œ <code>src/actions/index.tsx</code> ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> constants <span class="token keyword">from</span> <span class="token string">'../constants'</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IncrementEnthusiasm</span> <span class="token punctuation">{</span>
    <span class="token keyword">type</span><span class="token operator">:</span> constants<span class="token punctuation">.</span><span class="token constant">INCREMENT_ENTHUSIASM</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">DecrementEnthusiasm</span> <span class="token punctuation">{</span>
    <span class="token keyword">type</span><span class="token operator">:</span> constants<span class="token punctuation">.</span><span class="token constant">DECREMENT_ENTHUSIASM</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">EnthusiasmAction</span> <span class="token operator">=</span> IncrementEnthusiasm <span class="token operator">|</span> DecrementEnthusiasm<span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">incrementEnthusiasm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> IncrementEnthusiasm <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> constants<span class="token punctuation">.</span><span class="token constant">INCREMENT_ENTHUSIASM</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">decrementEnthusiasm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> DecrementEnthusiasm <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> constants<span class="token punctuation">.</span><span class="token constant">DECREMENT_ENTHUSIASM</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªç±»å‹ï¼Œå®ƒä»¬è´Ÿè´£å¢åŠ æ“ä½œå’Œå‡å°‘æ“ä½œçš„è¡Œä¸ºã€‚ æˆ‘ä»¬è¿˜å®šä¹‰äº†ä¸€ä¸ªç±»å‹ï¼ˆ <code>EnthusiasmAction</code> ï¼‰ï¼Œå®ƒæè¿°äº†å“ªäº› action æ˜¯å¯ä»¥å¢åŠ æˆ–å‡å°‘çš„ã€‚ æœ€åï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°ç”¨æ¥åˆ›å»ºå®é™…çš„ actionsã€‚</p> <p>è¿™é‡Œæœ‰ä¸€äº›æ¸…æ™°çš„æ¨¡ç‰ˆï¼Œä½ å¯ä»¥å‚è€ƒç±»ä¼¼<a href="https://www.npmjs.com/package/redux-actions" target="_blank" rel="noopener noreferrer"> redux-actions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„åº“ã€‚</p> <h3 id="æ·»åŠ reducer"><a href="#æ·»åŠ reducer" class="header-anchor">#</a> æ·»åŠ  reducer</h3> <p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹å†™ç¬¬ä¸€ä¸ª reducer äº†ï¼ Reducers æ˜¯å‡½æ•°ï¼Œå®ƒä»¬è´Ÿè´£ç”Ÿæˆåº”ç”¨ state çš„æ‹·è´ä½¿ä¹‹äº§ç”Ÿå˜åŒ–ï¼Œä½†å®ƒå¹¶æ²¡æœ‰_å‰¯ä½œç”¨_ã€‚ å®ƒä»¬æ˜¯ä¸€ç§<a href="https://en.wikipedia.org/wiki/Pure_function" target="_blank" rel="noopener noreferrer"><em>çº¯å‡½æ•°</em><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p>æˆ‘ä»¬çš„ reducer å°†æ”¾åœ¨ <code>src/reducers/index.tsx</code>  æ–‡ä»¶é‡Œã€‚ å®ƒçš„åŠŸèƒ½æ˜¯ä¿è¯å¢åŠ æ“ä½œä¼šè®©æ„Ÿå¹çº§åˆ«åŠ  1ï¼Œå‡å°‘æ“ä½œåˆ™è¦å°†æ„Ÿå¹çº§åˆ«å‡ 1ï¼Œä½†æ˜¯è¿™ä¸ªçº§åˆ«æ°¸è¿œä¸èƒ½å°äº 1ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// src/reducers/index.tsx</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> EnthusiasmAction <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../actions'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StoreState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../types/index'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">INCREMENT_ENTHUSIASM</span><span class="token punctuation">,</span> <span class="token constant">DECREMENT_ENTHUSIASM</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../constants/index'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">enthusiasm</span><span class="token punctuation">(</span>state<span class="token operator">:</span> StoreState<span class="token punctuation">,</span> action<span class="token operator">:</span> EnthusiasmAction<span class="token punctuation">)</span><span class="token operator">:</span> StoreState <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token constant">INCREMENT_ENTHUSIASM</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> enthusiasmLevel<span class="token operator">:</span> state<span class="token punctuation">.</span>enthusiasmLevel <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token constant">DECREMENT_ENTHUSIASM</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> enthusiasmLevel<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> state<span class="token punctuation">.</span>enthusiasmLevel <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> state<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ³¨æ„æˆ‘ä»¬ä½¿ç”¨äº†_å¯¹è±¡å±•å¼€_ï¼ˆ <code>...state</code> ï¼‰ï¼Œå½“æ›¿æ¢ <code>enthusiasmLevel</code>  æ—¶ï¼Œå®ƒå¯ä»¥å¯¹çŠ¶æ€è¿›è¡Œæµ…æ‹·è´ã€‚ å°† <code>enthusiasmLevel</code>  å±æ€§æ”¾åœ¨æœ«å°¾æ˜¯ååˆ†å…³é”®çš„ï¼Œå¦åˆ™å®ƒå°†è¢«æ—§çš„çŠ¶æ€è¦†ç›–ã€‚</p> <p>ä½ å¯èƒ½æƒ³è¦å¯¹ reducer å†™ä¸€äº›æµ‹è¯•ã€‚ å› ä¸º reducers æ˜¯çº¯å‡½æ•°ï¼Œå®ƒä»¬å¯ä»¥ä¼ å…¥ä»»æ„çš„æ•°æ®ã€‚ é’ˆå¯¹æ¯ä¸ªè¾“å…¥ï¼Œå¯ä»¥æµ‹è¯• reducers ç”Ÿæˆçš„æ–°çš„çŠ¶æ€ã€‚ å¯ä»¥è€ƒè™‘ä½¿ç”¨ Jest çš„<a href="https://facebook.github.io/jest/docs/en/expect.html#toequalvalue" target="_blank" rel="noopener noreferrer"> toEqual<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ–¹æ³•ã€‚</p> <h3 id="åˆ›å»ºå®¹å™¨"><a href="#åˆ›å»ºå®¹å™¨" class="header-anchor">#</a> åˆ›å»ºå®¹å™¨</h3> <p>åœ¨ä½¿ç”¨ Redux æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸è¦åˆ›å»ºç»„ä»¶å’Œå®¹å™¨ã€‚ ç»„ä»¶æ˜¯æ•°æ®æ— å…³çš„ï¼Œä¸”å·¥ä½œåœ¨è¡¨ç°å±‚ã€‚ _å®¹å™¨_é€šå¸¸åŒ…è£¹ç»„ä»¶åŠå…¶ä½¿ç”¨çš„æ•°æ®ï¼Œç”¨ä»¥æ˜¾ç¤ºå’Œä¿®æ”¹çŠ¶æ€ã€‚ ä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šå…³äºè¿™ä¸ªæ¦‚å¿µçš„ç»†èŠ‚ï¼š<a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0" target="_blank" rel="noopener noreferrer">Dan Abramov å†™çš„_è¡¨ç°å±‚çš„å®¹å™¨ç»„ä»¶_<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p>ç°åœ¨æˆ‘ä»¬ä¿®æ”¹ <code>src/components/Hello.tsx</code> ï¼Œè®©å®ƒå¯ä»¥ä¿®æ”¹çŠ¶æ€ã€‚ æˆ‘ä»¬å°†æ·»åŠ ä¸¤ä¸ªå¯é€‰çš„å›è°ƒå±æ€§åˆ° <code>Props</code> ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ <code>onIncrement</code>  å’Œ <code>onDecrement</code> ï¼š</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  enthusiasmLevel<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  onIncrement<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  onDecrement<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç„¶åå°†è¿™ä¸¤ä¸ªå›è°ƒç»‘å®šåˆ°ä¸¤ä¸ªæ–°æŒ‰é’®ä¸Šï¼Œå°†æŒ‰é’®æ·»åŠ åˆ°æˆ‘ä»¬çš„ç»„ä»¶é‡Œã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> enthusiasmLevel <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> onIncrement<span class="token punctuation">,</span> onDecrement <span class="token punctuation">}</span><span class="token operator">:</span> Props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>enthusiasmLevel <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'You could be a little more enthusiastic. :D'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;greeting&quot;</span><span class="token operator">&gt;</span>
        Hello <span class="token punctuation">{</span>name <span class="token operator">+</span> <span class="token function">getExclamationMarks</span><span class="token punctuation">(</span>enthusiasmLevel<span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>onDecrement<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">-</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>onIncrement<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥ç»™ <code>onIncrement</code>  å’Œ <code>onDecrement</code>  å†™ä¸€äº›æµ‹è¯•ï¼Œå®ƒä»¬æ˜¯åœ¨å„è‡ªçš„æŒ‰é’®è¢«ç‚¹å‡»æ—¶è°ƒç”¨ã€‚ è¯•ä¸€è¯•ä»¥ä¾¿æŒæ¡ç¼–å†™æµ‹è¯•çš„çªé—¨ã€‚</p> <p>ç°åœ¨æˆ‘ä»¬çš„ç»„ä»¶æ›´æ–°å¥½äº†ï¼Œå¯ä»¥æŠŠå®ƒæ”¾åœ¨ä¸€ä¸ªå®¹å™¨é‡Œäº†ã€‚ è®©æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ <code>src/containers/Hello.tsx</code> ï¼Œåœ¨å¼€å§‹çš„åœ°æ–¹ä½¿ç”¨ä¸‹åˆ—å¯¼å…¥è¯­å¥ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">'../components/Hello'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> actions <span class="token keyword">from</span> <span class="token string">'../actions/'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StoreState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../types/index'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect<span class="token punctuation">,</span> Dispatch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸¤ä¸ªå…³é”®ç‚¹æ˜¯åˆå§‹çš„ <code>Hello</code>  ç»„ä»¶å’Œ react-redux çš„ <code>connect</code>  å‡½æ•°ã€‚  <code>connect</code>  å¯ä»¥å°†æˆ‘ä»¬çš„ <code>Hello</code>  ç»„ä»¶è½¬æ¢æˆä¸€ä¸ªå®¹å™¨ï¼Œé€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°ï¼š</p> <ul><li><code>mapStateToProps</code>  å°†å½“å‰ store é‡Œçš„æ•°æ®ä»¥æˆ‘ä»¬çš„ç»„ä»¶éœ€è¦çš„å½¢å¼ä¼ é€’åˆ°ç»„ä»¶ã€‚</li> <li><code>mapDispatchToProps</code>  åˆ©ç”¨ <code>dispatch</code>  å‡½æ•°ï¼Œåˆ›å»ºå›è°ƒ props å°† actions é€åˆ° storeã€‚</li></ul> <p>å›æƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„åº”ç”¨åŒ…å«ä¸¤ä¸ªå±æ€§ï¼š <code>languageName</code>  å’Œ <code>enthusiasmLevel</code> ã€‚ æˆ‘ä»¬çš„ <code>Hello</code>  ç»„ä»¶ï¼Œå¸Œæœ›å¾—åˆ°ä¸€ä¸ª <code>name</code>  å’Œä¸€ä¸ª <code>enthusiasmLevel</code> ã€‚  <code>mapStateToProps</code>  ä¼šä» store å¾—åˆ°ç›¸åº”çš„æ•°æ®ï¼Œå¦‚æœéœ€è¦çš„è¯å°†é’ˆå¯¹ç»„ä»¶çš„ props è°ƒæ•´å®ƒã€‚ ä¸‹é¢è®©æˆ‘ä»¬ç»§ç»­å¾€ä¸‹å†™ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mapStateToProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span> enthusiasmLevel<span class="token punctuation">,</span> languageName <span class="token punctuation">}</span><span class="token operator">:</span> StoreState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    enthusiasmLevel<span class="token punctuation">,</span>
    name<span class="token operator">:</span> languageName<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ³¨æ„ <code>mapStateToProps</code>  ä»…åˆ›å»ºäº† <code>Hello</code>  ç»„ä»¶éœ€è¦çš„å››ä¸ªå±æ€§ä¸­çš„ä¸¤ä¸ªã€‚ æˆ‘ä»¬è¿˜æƒ³è¦ä¼ å…¥ <code>onIncrement</code>  å’Œ <code>onDecrement</code>  å›è°ƒå‡½æ•°ã€‚  <code>mapDispatchToProps</code>  æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒéœ€è¦ä¼ å…¥ä¸€ä¸ªè°ƒåº¦å‡½æ•°ã€‚ è¿™ä¸ªè°ƒåº¦å‡½æ•°å¯ä»¥å°† actions ä¼ å…¥ store æ¥è§¦å‘æ›´æ–°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€å¯¹å›è°ƒå‡½æ•°ï¼Œå®ƒä»¬ä¼šåœ¨éœ€è¦çš„æ—¶å€™è°ƒç”¨è°ƒåº¦å‡½æ•°ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mapDispatchToProps</span><span class="token punctuation">(</span>dispatch<span class="token operator">:</span> Dispatch<span class="token operator">&lt;</span>actions<span class="token punctuation">.</span>EnthusiasmAction<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">onIncrement</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span>actions<span class="token punctuation">.</span><span class="token function">incrementEnthusiasm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">onDecrement</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span>actions<span class="token punctuation">.</span><span class="token function">decrementEnthusiasm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ <code>connect</code>  äº†ã€‚  <code>connect</code>  é¦–å…ˆä¼šæ¥æ”¶ <code>mapStateToProps</code>  å’Œ <code>mapDispatchToProps</code> ï¼Œç„¶åè¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬ç”¨å®ƒæ¥åŒ…è£¹æˆ‘ä»¬çš„ç»„ä»¶ã€‚ æœ€ç»ˆçš„å®¹å™¨æ˜¯é€šè¿‡ä¸‹é¢çš„ä»£ç å®šä¹‰çš„ï¼š</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">,</span> mapDispatchToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>Hello<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„æ–‡ä»¶åº”è¯¥æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// src/containers/Hello.tsx</span>

<span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">'../components/Hello'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> actions <span class="token keyword">from</span> <span class="token string">'../actions/'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StoreState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../types/index'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect<span class="token punctuation">,</span> Dispatch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mapStateToProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span> enthusiasmLevel<span class="token punctuation">,</span> languageName <span class="token punctuation">}</span><span class="token operator">:</span> StoreState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    enthusiasmLevel<span class="token punctuation">,</span>
    name<span class="token operator">:</span> languageName<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mapDispatchToProps</span><span class="token punctuation">(</span>dispatch<span class="token operator">:</span> Dispatch<span class="token operator">&lt;</span>actions<span class="token punctuation">.</span>EnthusiasmAction<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">onIncrement</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span>actions<span class="token punctuation">.</span><span class="token function">incrementEnthusiasm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">onDecrement</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span>actions<span class="token punctuation">.</span><span class="token function">decrementEnthusiasm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">,</span> mapDispatchToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>Hello<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="åˆ›å»ºstore"><a href="#åˆ›å»ºstore" class="header-anchor">#</a> åˆ›å»º store</h3> <p>è®©æˆ‘ä»¬å›åˆ° <code>src/index.tsx</code> ã€‚ è¦æŠŠæ‰€æœ‰çš„ä¸œè¥¿åˆåˆ°ä¸€èµ·ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå¸¦åˆå§‹çŠ¶æ€çš„ storeï¼Œå¹¶ç”¨æˆ‘ä»¬æ‰€æœ‰çš„ reducers æ¥è®¾ç½®å®ƒã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> enthusiasm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./reducers/index'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StoreState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./types/index'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createStore</span><span class="token generic class-name"><span class="token operator">&lt;</span>StoreState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>enthusiasm<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  enthusiasmLevel<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  languageName<span class="token operator">:</span> <span class="token string">'TypeScript'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>store</code>  å¯èƒ½æ­£å¦‚ä½ æƒ³çš„é‚£æ ·ï¼Œå®ƒæ˜¯æˆ‘ä»¬åº”ç”¨å…¨å±€çŠ¶æ€çš„æ ¸å¿ƒ storeã€‚</p> <p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¦ç”¨ <code>./src/containers/Hello</code>  æ¥åŒ…è£¹ <code>./src/components/Hello</code> ï¼Œç„¶åä½¿ç”¨ react-redux çš„ <code>Provider</code>  å°† props ä¸å®¹å™¨è¿é€šèµ·æ¥ã€‚ æˆ‘ä»¬å°†å¯¼å…¥å®ƒä»¬ï¼š</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">'./containers/Hello'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span><span class="token punctuation">;</span>
</code></pre></div><p>å°† <code>store</code>  ä»¥ <code>Provider</code>  çš„å±æ€§å½¢å¼ä¼ å…¥ï¼š</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Provider store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Hello <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ³¨æ„ï¼Œ <code>Hello</code>  ä¸å†éœ€è¦ props äº†ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº† <code>connect</code>  å‡½æ•°ä¸ºåŒ…è£¹èµ·æ¥çš„ <code>Hello</code>  ç»„ä»¶çš„ props é€‚é…äº†åº”ç”¨çš„çŠ¶æ€ã€‚</p> <h2 id="é€€å‡º"><a href="#é€€å‡º" class="header-anchor">#</a> é€€å‡º</h2> <p>å¦‚æœä½ å‘ç° create-react-app ä½¿ä¸€äº›è‡ªå®šä¹‰è®¾ç½®å˜å¾—å›°éš¾ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥é€‰æ‹©ä¸ä½¿ç”¨å®ƒï¼Œä½¿ç”¨ä½ éœ€è¦é…ç½®ã€‚ æ¯”å¦‚ï¼Œä½ è¦æ·»åŠ ä¸€ä¸ª Webpack æ’ä»¶ï¼Œä½ å°±å¯ä»¥åˆ©ç”¨ create-react-app æä¾›çš„ â€œejectâ€ åŠŸèƒ½ã€‚</p> <p>è¿è¡Œï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run <span class="token function">eject</span>
</code></pre></div><p>è¿™æ ·å°±å¯ä»¥äº†ï¼</p> <p>ä½ è¦æ³¨æ„ï¼Œåœ¨è¿è¡Œ eject å‰æœ€å¥½ä¿å­˜ä½ çš„ä»£ç ã€‚ ä½ ä¸èƒ½æ’¤é”€ eject å‘½ä»¤ï¼Œå› æ­¤é€€å‡ºæ“ä½œæ˜¯æ°¸ä¹…æ€§çš„é™¤éä½ ä»ä¸€ä¸ªè¿è¡Œ eject å‰çš„æäº¤æ¥æ¢å¤å·¥ç¨‹ã€‚</p> <h2 id="ä¸‹ä¸€æ­¥"><a href="#ä¸‹ä¸€æ­¥" class="header-anchor">#</a> ä¸‹ä¸€æ­¥</h2> <p>create-react-app å¸¦æœ‰å¾ˆå¤šå¾ˆæ£’çš„åŠŸèƒ½ã€‚ å®ƒä»¬çš„å¤§å¤šæ•°éƒ½åœ¨æˆ‘ä»¬å·¥ç¨‹ç”Ÿæˆçš„ <code>README.md</code>  é‡Œé¢æœ‰è®°å½•ï¼Œæ‰€ä»¥å¯ä»¥ç®€å•é˜…è¯»ä¸€ä¸‹ã€‚</p> <p>å¦‚æœä½ æƒ³å­¦ä¹ æ›´å¤šå…³äº Redux çš„çŸ¥è¯†ï¼Œä½ å¯ä»¥å‰å¾€<a href="http://redux.js.org/" target="_blank" rel="noopener noreferrer">å®˜æ–¹ç«™ç‚¹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>æŸ¥çœ‹æ–‡æ¡£ã€‚ åŒæ ·çš„ï¼Œ<a href="https://mobx.js.org/" target="_blank" rel="noopener noreferrer">MobX<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å®˜æ–¹ç«™ç‚¹ã€‚</p> <p>å¦‚æœä½ æƒ³è¦åœ¨æŸä¸ªæ—¶é—´ç‚¹ ejectï¼Œä½ éœ€è¦äº†è§£å†å¤šå…³äº Webpack çš„çŸ¥è¯†ã€‚ ä½ å¯ä»¥æŸ¥çœ‹<a href="/Typescript-manual/download/tutorials/react-and-webpack.html"> React &amp; Webpack æ•™ç¨‹</a>ã€‚</p> <p>æœ‰æ—¶å€™ä½ éœ€è¦è·¯ç”±åŠŸèƒ½ã€‚ å·²ç»æœ‰ä¸€äº›è§£å†³æ–¹æ¡ˆäº†ï¼Œä½†æ˜¯å¯¹äº Redux å·¥ç¨‹æ¥è®²<a href="https://github.com/ReactTraining/react-router" target="_blank" rel="noopener noreferrer"> react-router<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ˜¯æœ€æµè¡Œçš„ï¼Œå¹¶ç»å¸¸ä¸<a href="https://github.com/reactjs/react-router-redux" target="_blank" rel="noopener noreferrer"> react-router-redux<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è”åˆä½¿ç”¨ã€‚</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/Typescript-manual/download/tutorials/react-and-webpack.html" class="prev">
        Reactä¸webpack
      </a></span> <span class="next"><a href="/Typescript-manual/download/tutorials/angular-2.html">
        Angular 2
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/Typescript-manual/assets/js/app.b3320f9f.js" defer></script><script src="/Typescript-manual/assets/js/2.f8451502.js" defer></script><script src="/Typescript-manual/assets/js/132.0a19faa6.js" defer></script>
  </body>
</html>
